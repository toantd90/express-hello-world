<!DOCTYPE html>
<html>

<head>
    <title>Typo.js Demo</title>
    <script type="text/javascript" src="typo/typo.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <script type="text/javascript">
        var dictionary;

        function load() {
            $('#loading-progress').append('Loading affix data...').append($('<br />'));

            $.get('typo/dictionaries/ja_JP/ja_JP.aff', function (affData) {
                $('#loading-progress').append('Loading Japanese dictionary (this takes a few seconds)...').append($('<br />'));

                $.get('typo/dictionaries/ja_JP/ja_JP.dic', function (wordsData) {
                    $('#loading-progress').append('Initializing Typo...');

                    dictionary = new Typo("ja_JP", affData, wordsData);

                    checkWord('こんにちわ');
                });
            });
        }

        function checkWord(word) {
            var wordForm = $('#word-form');
            wordForm.hide();

            var resultsContainer = $('#results');
            resultsContainer.html('');

            resultsContainer.append($('<p>').text("Is '" + word + "' spelled correctly?"));

            var is_spelled_correctly = dictionary.check(word);

            resultsContainer.append($('<p>').append($('<code>').text(is_spelled_correctly ? 'yes' : 'no')));

            if (!is_spelled_correctly) {
                resultsContainer.append($('<p>').text("Finding spelling suggestions for '" + word + "'..."));

                var array_of_suggestions = dictionary.suggest(word);

                resultsContainer.append($('<p>').append($('<code>').text(array_of_suggestions.join(', '))));
            }

            wordForm.show();
        }
    </script>
</head>

<body onload="load();" data-new-gr-c-s-check-loaded="14.1130.0" data-gr-ext-installed="">
    <h1>Typo.js Demo</h1>
    <p>This page is an example of how you could use <a href="http://github.com/cfinke/Typo.js">Typo.js</a> in a webpage
        if you need spellchecking beyond what the OS provides.</p>
    <p id="loading-progress"></p>
    <div id="results"></div>
    <form method="GET" action="" onsubmit="checkWord( document.getElementById( 'word' ).value ); return false;"
        id="word-form" style="">
        <p>Try another word:</p>
        <input type="text" id="word" value="こんにちわ">
        <input type="submit" value="Spellcheck">
    </form>

</body>

</html>